# ğŸ›¡ï¸ AutenticaciÃ³n y AutorizaciÃ³n en Django con django.contrib.auth

Este proyecto tiene como objetivo enseÃ±arte a implementar un sistema completo de autenticaciÃ³n y autorizaciÃ³n utilizando la aplicaciÃ³n integrada django.contrib.auth. AprenderÃ¡s a gestionar usuarios, permisos, grupos y sesiones de forma segura y escalable dentro de tus aplicaciones Django.

---

## ğŸ¯ Objetivos del Proyecto
- Comprender el funcionamiento interno de django.contrib.auth
- Implementar formularios de login, logout y registro de usuarios
- Configurar permisos y grupos para controlar el acceso a vistas y funcionalidades
- Personalizar el modelo de usuario si se requiere una estructura mÃ¡s compleja
- Utilizar decoradores y mixins para proteger rutas y vistas

---

## ğŸ“š QuÃ© aprenderÃ¡s
- CÃ³mo funciona el sistema de autenticaciÃ³n de Django
- CÃ³mo crear y gestionar usuarios desde el panel de administraciÃ³n y desde cÃ³digo
- CÃ³mo proteger vistas con @login_required y PermissionRequiredMixin
- CÃ³mo extender el modelo de usuario con AbstractUser o AbstractBaseUser
- CÃ³mo manejar sesiones y cookies de autenticaciÃ³n
- CÃ³mo implementar flujos de login/logout/registro con vistas basadas en clases o funciones

---

## ğŸš€ GuÃ­a Paso a Paso

### ğŸ”§ 1. Requisitos Previos

AsegÃºrate de tener instalado:

- âœ… Python 3.10 o superior
- âœ… pip (gestor de paquetes de Python)
- âœ… virtualenv *(opcional pero recomendado)*

---

### ğŸ 2. Crear y Activar un Entorno Virtual

```bash
python -m venv env

# Activar el entorno:
source env/bin/activate     # En Linux/macOS
env\Scripts\activate        # En Windows
```

---

### ğŸ“¦ 3. Instalar Django
```bash
pip install django  # Descarga django
```

---

### ğŸ“ 4. Crear el Proyecto Django
```bash
django-admin startproject django_project .  # Esto genera la carpeta django_project/ dentro de tu proyecto
```

#### ğŸ”¸ Nota: No olvides el espacio y el punto (.) al final para instalar el proyecto en la carpeta actual.

---

### ğŸ—ï¸ 5. Crear la App Django
```bash
python manage.py startapp Django_app  # Esto generarÃ¡ la carpeta Django_app/ dentro de tu proyecto.
```  

---

### âš™ï¸ 6. Registrar la App en settings.py
Edita django_project/settings.py y agrega 'Django_app' en INSTALLED_APPS:
INSTALLED_APPS = [
    ...
    'Django_app',
]

---

### ğŸ—‚ï¸ 7. Crear la Carpeta de Templates, home.html, login.html y signup.html
Dentro de Django_app/, crea una carpeta llamada templates y dentro de ella el archivo home.html:
<!-- templates/home.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Inicio del curso</title>
</head>
<body>
    <h1>Â¡Bienvenidos a Django! ğŸ‰</h1>
    <p>Esta es su primera vista HTML funcionando.</p>
</body>
</html>

<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Bienvenido{% if user.is_authenticated %}, {{ user.username }}{% endif %}</h1>

    <nav>
    <ul>
        {% if user.is_authenticated %}
            <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit">Cerrar sesiÃ³n</button>
            </form>
        {% else %}
            <li><form method="post" action="{% url 'login' %}">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Iniciar sesiÃ³n</button>
            </form></li>

            <li><a href="{% url 'signup' %}">Registrarse</a></li>
        {% endif %}
    </ul>
    </nav>

    <p>Este es un ejemplo bÃ¡sico para mostrar cÃ³mo navegar entre vistas de autenticaciÃ³n.</p>


    {% block content %}

    {% endblock %}
</body>
</html>

<!-- templates/registration/signup.html -->
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Iniciar sesiÃ³n</button>
</form>

<!-- templates/registration/signup.html -->
<h2>Iniciar sesiÃ³n</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Entrar</button>
</form>
---

### ğŸ§­ 8. Configurar settings.py para Templates
En el bloque TEMPLATES, ajusta la clave DIRS:
TEMPLATES = [
    {
        'DIRS': [BASE_DIR / 'templates'],
        ...
    },
]

---

### ğŸ‘ï¸ 9. Crear la Vista en views.py
En Django_app/views.py:
from django.contrib.auth.forms import UserCreationForm
from django.urls import reverse_lazy
from django.views.generic.edit import CreateView

class SignUpView(CreateView):
    form_class = UserCreationForm
    success_url = reverse_lazy('login')
    template_name = 'registration/signup.html'

---

### ğŸ›£ï¸ 10. Configurar Rutas en urls.py
<!-- Edita django_project/urls.py: -->
from django.contrib import admin
from django.urls import path, include  

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('django_app.urls')),  
    path('accounts/', include('authentication.urls')) 
]

<!-- Edita django_app/urls.py -->
from django.contrib import admin
from django.urls import path, include
from .views import SignUpView

urlpatterns = [
    path('', include('django.contrib.auth.urls')),  # Â¡Esta lÃ­nea es crucial!
    path('signup/', SignUpView.as_view(), name='signup'),
]

---

### ğŸš¦ 11. Levantar el Servidor
```bash
python manage.py runserver  # Esto levanta el servidor
```

Abre tu navegador en:  http://127.0.0.1:8000/  

---

âœ… Â¡Listo!
Tu primer proyecto Django estÃ¡ funcionando y mostrando home.html. Esta es una base excelente para comenzar a explorar mÃ¡s funciones de Django.